;;-*-Lisp-*-
(in-package goal)

;; name: anim-tester.gc
;; name in dgo: anim-tester
;; dgos: GAME, ENGINE

(when *debug-segment*

(deftype list-control (structure)
  ((listfunc             basic      :offset-assert 0)
   (list-owner           object     :offset-assert 4)
   (top                  uint32     :offset-assert 8)
   (left                 uint32     :offset-assert 12)
   (list                 glst-list  :offset-assert 16)
   (the-node             glst-node  :offset-assert 20)
   (top-index            uint32     :offset-assert 24)
   (the-index            uint32     :offset-assert 28)
   (the-disp-line        uint32     :offset-assert 32)
   (highlight-index      uint32     :offset-assert 36)
   (current-index        uint32     :offset-assert 40)
   (numlines             uint32     :offset-assert 44)
   (lines-to-disp        uint32     :offset-assert 48)
   (charswide            uint32     :offset-assert 52)
   (highlight-disp-line  uint32     :offset-assert 56)
   (field-id             uint32     :offset-assert 60)
   (xpos                 uint32     :offset-assert 64)
   (ypos                 uint32     :offset-assert 68)
   (user-info            uint32     :offset-assert 72)
   (return-int           uint32     :offset-assert 76)
   )
  :pack-me
  :method-count-assert 9
  :size-assert #x50
  :flag-assert #x900000050
  )

(deftype list-field (structure)
  ((left   uint32  :offset-assert 0)
   (width  uint32  :offset-assert 4)
   )
  :method-count-assert 9
  :size-assert #x8
  :flag-assert #x900000008
  )

(deftype DISP_LIST-bank (basic)
  ((TV_SPACING   uint32  :offset-assert 4)
   (BORDER_WIDTH  uint32  :offset-assert 8)
   (BORDER_HEIGHT  uint32  :offset-assert 12)
   (MAX_LINES  uint32  :offset-assert 16)
   (CHAR_WIDTH  uint32  :offset-assert 20)
   (INC_DELAY  uint32  :offset-assert 24)
   (BORDER_LINES  uint32  :offset-assert 28)
   (CXOFF  uint32  :offset-assert 32)
   (CYOFF  uint32  :offset-assert 36)
   (BXOFF  uint32  :offset-assert 40)
   (BYOFF  uint32  :offset-assert 44)
   )
  :method-count-assert 9
  :size-assert #x30
  :flag-assert #x900000030
  )

(define *DISP_LIST-bank* (new 'static 'DISP_LIST-bank
                            :TV_SPACING 8
                            :BORDER_WIDTH 4
                            :BORDER_HEIGHT 4
                            :MAX_LINES 12
                            :CHAR_WIDTH 10
                            :INC_DELAY 20
                            :BORDER_LINES 3
                            ))

(deftype anim-tester-bank (basic)
  ((ANIM_SPEED   float  :offset-assert 4)
   (BLEND  float  :offset-assert 8)
   (OBJECT_LIST_X  uint32  :offset-assert 12)
   (OBJECT_LIST_Y  uint32  :offset-assert 16)
   (OBJECT_LIST_MIN_WIDTH  uint32  :offset-assert 20)
   (ANIM_LIST_X  uint32  :offset-assert 24)
   (ANIM_LIST_Y  uint32  :offset-assert 28)
   (ANIM_LIST_MIN_WIDTH  uint32  :offset-assert 32)
   (PICK_LIST_X  uint32  :offset-assert 36)
   (PICK_LIST_Y  uint32  :offset-assert 40)
   (PICK_LIST_MIN_WIDTH  uint32  :offset-assert 44)
   (EDIT_LIST_X  uint32  :offset-assert 48)
   (EDIT_LIST_Y  uint32  :offset-assert 52)
   (EDIT_STATS_X  uint32  :offset-assert 56)
   (EDIT_LIST_MIN_WIDTH  uint32  :offset-assert 60)
   (EDIT_PICK_X  uint32  :offset-assert 64)
   )
  :method-count-assert 9
  :size-assert #x30
  :flag-assert #x900000030
  )

(define *ANIM_TESTER-bank* (new 'static 'anim-tester-bank
                                :ANIM_SPEED 1.000000
                                :BLEND 1.000000
                                :OBJECT_LIST_X 10
                                :OBJECT_LIST_Y 50
                                :OBJECT_LIST_MIN_WIDTH 18
                                :ANIM_LIST_X 10
                                :ANIM_LIST_Y 50
                                :ANIM_LIST_MIN_WIDTH 17
                                :PICK_LIST_X 10
                                :PICK_LIST_Y 50
                                :PICK_LIST_MIN_WIDTH 21
                                :EDIT_LIST_X 10
                                :EDIT_LIST_Y 50
                                :EDIT_STATS_X 30
                                :EDIT_LIST_MIN_WIDTH 64
                                :EDIT_PICK_X 30
                                ))

(deftype anim-tester (process-drawable)
  ((flags  uint32  :offset-assert 176)
   (obj-list  glst-list :inline :offset-assert 180)
   (current-obj  basic  :offset-assert 196)
   (speed  uint32  :offset-assert 200)
   (list-con  list-control :inline :offset-assert 204)
   (pick-con  list-control :inline :offset-assert 284)
   (_pad1 uint32 :offset-assert 364)
   (item-field uint32 :offset-assert 368)
   (_pad2 uint32 :offset-assert 372)
   (inc-delay uint32 :offset-assert 376)
   (inc-timer uint32 :offset-assert 380)
   (edit-mode uint32 :offset-assert 384)
   (old-mode uint32 :offset-assert 388)
   (anim-speed float :offset-assert 392)
   (anim-gspeed float :offset-assert 396)
   (anim-first float :offset-assert 400)
   (anim-last float :offset-assert 404)
   )
  :method-count-assert 20
  :size-assert #x198
  :heap-base #x130
  :flag-assert #x1401300198
  )

(defun-debug anim-tester-num-print ()
  
  
  )

)